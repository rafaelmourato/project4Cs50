{% extends "network/layout.html" %}

{% block body %}
<div class="container mt-4">
    <h2>Following</h2>

    {% if posts %}
        {% for post in posts %}
        <div class="post-card border-bottom pb-3 pt-2">
            <div class="post-header">
                <a href="{% url 'profile' post.creator.username %}" class="post-author">
                    {{ post.creator }}
                </a>
                <span class="post-time">{{ post.time }}</span>
            </div>

            <p id="content-{{ post.id }}">{{ post.content }}</p>

            <button class="btn btn-sm btn-outline-primary like-btn" data-id="{{ post.id }}">
                {% if user in post.likes.all %}Unlike{% else %}Like{% endif %}
            </button>

            <span id="likes-{{ post.id }}" class="ms-2">
                {{ post.likes.count }}
            </span> likes
        </div>
        {% endfor %}
    {% else %}
        <p class="text-muted">Start following people.</p>
    {% endif %}

    {% include "network/pagination.html" %}
</div>
{% endblock %}
